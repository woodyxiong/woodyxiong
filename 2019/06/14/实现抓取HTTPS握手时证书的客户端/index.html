<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.2 -->
    <script>
        window.materialVersion = "1.5.2"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">



    <link rel="dns-prefetch" href="https://busuanzi.ibruce.info">












    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            实现抓取HTTPS握手时证书的客户端 | 
        
        魁爷的黑作坊
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.png">
    <link rel="icon" href="/img/favicon.png">

    <meta name="format-detection" content="telephone=no">
    <meta name="description" itemprop="description" content="生活,编程,玩">
    <meta name="keywords" content="后端,PHP,全栈,Web,自学编程,学习分享,玩,自由,TCP/IP,Docker,HTTPS,证书,PhpStorm,Swoole,Composer,Packagist">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?MKetZV3cUTfDxvMffaOezg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?ezyEvm8ST5CGfpA+kFFi1g==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="魁爷的黑作坊">
    <meta name="msapplication-starturl" content="https://blog.gfkui.com/2019/06/14/实现抓取HTTPS握手时证书的客户端/">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="魁爷的黑作坊">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="/img/favicon.png">

    <!-- Site Verification -->
    
    <meta name="baidu-site-verification" content="MNB77WwXXY">

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="https://blog.gfkui.com/2019/06/14/实现抓取HTTPS握手时证书的客户端/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="实现抓取HTTPS握手时证书的客户端 | 魁爷的黑作坊">
    <meta property="og:image" content="/img/favicon.png">
    <meta property="og:description" content="生活,编程,玩">
    <meta property="og:article:tag" content="TCP/IP"> <meta property="og:article:tag" content="Docker"> <meta property="og:article:tag" content="HTTPS"> <meta property="og:article:tag" content="证书"> <meta property="og:article:tag" content="PhpStorm"> <meta property="og:article:tag" content="Swoole"> <meta property="og:article:tag" content="Composer"> <meta property="og:article:tag" content="Packagist"> 

    
        <meta property="article:published_time" content="Fri Jun 14 2019 01:55:31 GMT+0800">
        <meta property="article:modified_time" content="Sun Nov 22 2020 16:05:54 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="https://blog.gfkui.com/2019/06/14/实现抓取HTTPS握手时证书的客户端/index.html">
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "https://blog.gfkui.com/2019/06/14/实现抓取HTTPS握手时证书的客户端/index.html",
    "headline": "实现抓取HTTPS握手时证书的客户端",
    "datePublished": "Fri Jun 14 2019 01:55:31 GMT+0800",
    "dateModified": "Sun Nov 22 2020 16:05:54 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "WoodyXiong",
        "image": {
            "@type": "ImageObject",
            "url": "/img/logo.jpg"
        },
        "description": "淡泊明志，宁静致远"
    },
    "publisher": {
        "@type": "Organization",
        "name": "魁爷的黑作坊",
        "logo": {
            "@type":"ImageObject",
            "url": "/img/favicon.png"
        }
    },
    "keywords": ",TCP/IP,Docker,HTTPS,证书,PhpStorm,Swoole,Composer,Packagist后端,PHP,全栈,Web,自学编程,学习分享,玩,自由",
    "description": "生活,编程,玩",
}
</script>


    

    <!-- Analytics -->
    
        <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-71785931-2', 'auto');ga('send', 'pageview');
</script>
    
    
        <script>
    var _hmt = _hmt || [];
    (function() {var hm = document.createElement('script');
    hm.src = 'https://hm.baidu.com/hm.js?ef419ee57c7007748e3ffd3f542a9a24';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(hm, s);
    })();
</script>
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn" class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#前言"><span class="post-toc-number">1.</span> <span class="post-toc-text">前言</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#获取HTTPS通信握手信息"><span class="post-toc-number">2.</span> <span class="post-toc-text">获取HTTPS通信握手信息</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#代码实现"><span class="post-toc-number">3.</span> <span class="post-toc-text">代码实现</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#添加Composer"><span class="post-toc-number">4.</span> <span class="post-toc-text">添加Composer</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#添加简单的CI-CD构建"><span class="post-toc-number">5.</span> <span class="post-toc-text">添加简单的CI/CD构建</span></a></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        <!-- Custom Thumbnail -->
        <div class="post_thumbnail-custom mdl-card__media mdl-color-text--grey-50" style="background-image:url(https://tencentcdn.gfkui.cn/19/7/3/swoole-cert-capture.png)">
    
            <p class="article-headline-p">
                实现抓取HTTPS握手时证书的客户端
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/logo.jpg" width="44px" height="44px" alt="Author Avatar">
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>WoodyXiong</strong>
        <span>6月 14, 2019</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">devices other</i>
    <span class="visuallyhidden">devices other</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
    <li class="mdl-menu__item">在其它设备中阅读本文章</li>
    
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQ4AAAEOCAAAAABd2qZ5AAADeUlEQVR42u3awY7iQAwEUP7/p3evI42AKjsdZaSXE0KBdD8Optx+/XP9uF4IcODAgQMHDhw4cOB4MMcrvt596vM7757y7p7k/t/rWe0FBw4cOHAc4PhSioLHJ9vLt/r5m5On53vBgQMHDhznOPJyuC+BSWk8t04cOHDgwPE0jtn9nz+VFPLkfRw4cODA8Rc58mI5C3ifoxcOHDhw4PgrHElDLSmQbVnNA2HbQDzeK8WBAwcOHOuBhue/vnW+AwcOHDhw/OJorwQriVhtGzH/VL0jHDhw4MBxKcdmvGA2ADcrkMnm8/XjwIEDB47THHlp3BwF5QHsqq1Ge8SBAwcOHAc48hC1L4Htc5M7N3EOBw4cOHCc4MiH1do7Zw3EfJShjX/F/w4cOHDgwLHgaAcFkpC2bwW2cTG5EwcOHDhwnOZIotqs3G6ajyfKeTEqhwMHDhw4FhztUMJsDCJp6u2ffuR/Bw4cOHDgWGSWdohhE8nyNcxYh8dOOHDgwIHjIo5Zc+2C+BSHxs3rL81EHDhw4MBxKUdbJq8NVMkoQxLzZlEQBw4cOHCc4NiMCOTvzz47i3n1z4ADBw4cOA5w5F+aDyvkg3Szo6lZqxEHDhw4cNzDkTf4NiVz00Bsf6r8zwQOHDhw4LiH4/NjZkV3v8l8IO9IcxAHDhw4cMQcsxGBfQtv1s5rG5pffhgcOHDgwHEpRxKirh04uKrZ97nQFtEOBw4cOHDcwhGFn0spZ+3F2U+FAwcOHDhOc2ziVntPjlJvrGwX4sCBAweOcxztQPOmQJ4ovW0gxIEDBw4c93DsH7wfL0j42uiIAwcOHDju52hDV1tQZyibkFn8hDhw4MCB4xjH5pF5gdzHwvY7h71SHDhw4MBxjGMTzNpFtwGsLdg4cODAgeNOjk3zrm0gtkN1edGt2444cODAgeMYRzvikCxrVlzbYbj8UAoHDhw4cJzmaK92Ke2i23G3fNgOBw4cOHDcwzFb3LnDpLYpOfsGHDhw4MBxmmNWXNsmY8udNyLbMQscOHDgwHEPx1UlcH+8NDvcyolx4MCBA8fTOPIDpDaS1a29xREXDhw4cOB4Gke+xCQi7rc9O77CgQMHDhznOGZDA7PRt3asLWkCtsQ4cODAgeMcx2bobXNYlZTVFqUttzhw4MCB41oOFw4cOHDgwIEDBw4cOB52/QdtXgDJdzyh7wAAAABJRU5ErkJggg==">
    
</ul>

    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/Composer/">Composer</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/Docker/">Docker</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/HTTPS/">HTTPS</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/Packagist/">Packagist</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/PhpStorm/">PhpStorm</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/Swoole/">Swoole</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/TCP-IP/">TCP/IP</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/证书/">证书</a>
    </li></ul>
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    
        
            <!-- Busuanzi Views -->
            <a class="post_share-link" href="#">
                <li class="mdl-menu__item">
                    <span id="busuanzi_container_page_pv">
                        <span id="busuanzi_value_page_pv"></span>&nbsp;浏览量
                    </span>
                </li>
            </a>
        
    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=实现抓取HTTPS握手时证书的客户端&url=https://blog.gfkui.com/2019/06/14/实现抓取HTTPS握手时证书的客户端/index.html&pic=https://blog.gfkui.com/img/favicon.png&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=实现抓取HTTPS握手时证书的客户端&url=https://blog.gfkui.com/2019/06/14/实现抓取HTTPS握手时证书的客户端/index.html&via=WoodyXiong" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.gfkui.com/2019/06/14/实现抓取HTTPS握手时证书的客户端/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=https://blog.gfkui.com/2019/06/14/实现抓取HTTPS握手时证书的客户端/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    

    <!-- Share Telegram -->
    
        <a class="post_share-link" href="https://telegram.me/share/url?url=https://blog.gfkui.com/2019/06/14/实现抓取HTTPS握手时证书的客户端/index.html&text=实现抓取HTTPS握手时证书的客户端" target="_blank">
            <li class="mdl-menu__item">
                分享到 Telegram
            </li>
        </a>
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>由于一些很神奇的原因，我们需要用PHP实现从指定的IP获取HTTPS握手时的证书信息，其实在实现这个客户端之前有两种可行的方法。</p>
<ul>
<li><a href="https://stackoverflow.com/questions/3081042/how-to-get-ssl-certificate-info-with-curl-in-php" target="_blank" rel="noopener">使用PHP的CURL获取证书</a></li>
<li><a href="https://stackoverflow.com/questions/7885785/using-openssl-to-get-the-certificate-from-a-server" target="_blank" rel="noopener">使用<code>openssl</code>自带的客户端获取证书</a></li>
</ul>
<p>大概是脸黑的原因吧，这两种方法在这里放弃了，由于我们的线上服务器的<code>CURL</code>的版本过低，导致第一种方法无法实现，而直接升级的风险不可控，所以第一种方案就下马了。而第二种方案需要在线上服务器开启PHP的<code>exec</code>等危险函数，所以第二种方案也夭折了。最终只能自己动手实现PHP获取证书的轮子了，顺便填补下这方面的空白。</p>
<h2 id="获取HTTPS通信握手信息"><a href="#获取HTTPS通信握手信息" class="headerlink" title="获取HTTPS通信握手信息"></a>获取HTTPS通信握手信息</h2><p>此处需要获取<code>HTTPS</code>握手的信息，才能模拟握手请求获取证书。当然这里可以去阅读<code>RFC</code>获取详细的<code>HTTPS</code>握手协议，为了节省时间，这里使用网卡抓包神器<code>WireShark</code>来获取<code>HTTPS</code>握手信息。</p>
<p><code>WireShark</code>准备就绪之后，使用<code>CURL</code>命令直接获取证书，看看这几个包的交互到底发生了什么。具体抓包结果<a href="https://github.com/woodyxiong/Swoole-Cert-Capture/blob/master/data/sina.pcapng" target="_blank" rel="noopener">此处下载</a>。</p>
<p><img src="https://tencentcdn.gfkui.cn/19/6/18/%E5%A4%A7%E4%BD%93%E6%8A%93%E5%8C%85%E7%BB%93%E6%9E%9C.jpg" alt="大体抓包结果"></p>
<p>这张图可以看到一共互相交互了11个包，大致的交互过程以及原理可以阅读<a href="https://blog.gfkui.com/2018/03/30/%E4%BD%BF%E7%94%A8wireshark%E5%88%86%E6%9E%90https/">使用wireshark分析https</a>。</p>
<p>我们详细来看<code>Client Hello</code>包具体干了什么。<br><img src="https://tencentcdn.gfkui.cn/19/6/18/client%20hello.jpg" alt="Client Hello"></p>
<p>此包首先生成随机数，大概是以供之后的<code>DH算法</code>生成<code>对称秘钥</code>，并且将自己支持的<code>加密算法</code>、需要访问的域名等信息发送给<code>Server</code>端。</p>
<p>为了实现可以自由获取任何域名的证书，我们将<code>ww1.sinaimg.cn</code>替换成其他的域名，并且将包的长度进行了适当的更改，以供解包不会发生错误。发现这样简单的更改域名确实是可以抓到不同域名的证书。</p>
<p>接下来我们继续分析……</p>
<p><img src="https://tencentcdn.gfkui.cn/19/6/18/server%20hello%20done.jpg" alt="Server Hello Done"></p>
<p>上图显示<code>Server</code>端在接收<code>Client Hello</code>之后联系发送了4个包，而这4个包竟然需要拼在一起才能看到全貌。这4个包一共发送了一下4个信息：</p>
<ul>
<li>Server Hello</li>
<li>Certificate</li>
<li>Server Key Exchange</li>
<li>Server Hello Done</li>
</ul>
<p>以上4个信息只有<code>Certificate</code>信息才是最重要的，而按照<code>HTTPS</code>交互的报文头可以分辨出某一段中对应的是哪种信息。</p>
<p><img src="https://tencentcdn.gfkui.cn/19/6/18/%E6%8F%A1%E6%89%8B%E4%BF%A1%E6%81%AF%E5%88%86%E4%BF%A1%E6%81%AF%E5%9B%BE%E7%A4%BA.jpg" alt="分信息包图示"></p>
<p>获取了<code>HTTPS</code>握手信息，紧接着就是使用代码落地实现获取证书了。</p>
<h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2><blockquote>
<p>实现TCP/IP客户端</p>
</blockquote>
<p> 首先引入眼帘的是<code>PHP</code>自带的<code>socket</code>，尽管经常听说被吐槽，但是毕竟是<code>PHP</code>的亲儿子，不试一试怎么行？</p>
<p> 网上找<code>PHP</code>的<code>socket</code>代码一找一大堆，而且也是可用的。但是放在生产环境，这些函数都是被禁用的，开起来比较繁琐。紧接着我想用另外的线程或者进程来控制<code>socket</code>的通信时长,因为在<code>TCP</code>建连之后，无法控制客户端<code>send</code>以及<code>recv</code>的时长，但是开启<code>PHP</code>多线程和多进程异常麻烦，完全不推荐使用。接着就是使用大名鼎鼎的<code>Swoole</code>插件了。</p>
<p> chua!chua!chua!之后，一个<code>Swoole</code>的<code>TCP</code>的<code>socket</code>客户端就搭建好了。</p>
<blockquote>
<p>搭建<code>Swoole</code></p>
</blockquote>
<p> 由于<code>Swoole</code>是只能在<code>Linux/Mac</code>下使用的，那么<code>Windows</code>电脑如何使用<code>Swoole</code>？</p>
<p> 当然是使用<code>Docker</code>呀，<code>Docker</code>真是个好东西，无论什么环境都可以超级快速的搭建，只要装上<code>Docker</code>就可以快速搭建任何复杂的环境并且编排出一个完整的工程，并且可以在本机上起多个项目。你敢相信部署一个项目，仅仅需要一个<code>docker-compose.yml</code>文件就可以搞定吗？这软件简直太棒了！</p>
<p> 本项目使用了<code>PHP7.2</code>+<code>Swoole4.3.1</code>具体的<code>Dockerfile</code>在<a href="https://github.com/woodyxiong/Swoole-Cert-Capture/blob/master/Test/dockerfile" target="_blank" rel="noopener">此处</a>，当然我更推荐你到<a href="https://hub.docker.com/r/woodyxiong/php7.2-swoole" target="_blank" rel="noopener"><code>Docker hub</code></a>直接拉取我的镜像。</p>
<p> 在<code>PhpStorm</code>更是对<code>Docker</code>非常支持，这里可以指定<code>PHP</code>的解释器为<code>Dockerfile</code>中的。</p>
<p> <img src="https://tencentcdn.gfkui.cn/19/7/3/phpstorm-docker.png" alt="phpstorm中配置Docker中的php"></p>
<p>操作完成后，只要在<code>PhpStorm</code>中运行<code>PHP</code>就是<code>Dockerfile</code>中装了<code>Swoole</code>的<code>PHP</code>。</p>
<blockquote>
<p>autoload自动引入程序</p>
</blockquote>
<p><code>PHP</code>在运行的时候使用了一个新的类，会使用自动加载机制引入<code>PHP</code>文件，但是这个自动加载机制一般需要人为设置如何引入，详见<a href="https://www.php.net/manual/zh/function.spl-autoload-register.php" target="_blank" rel="noopener">spl_autoload_register</a></p>
<p>这个小问题竟然困扰了我特别长的时间，因为一开始我写了<code>spl_autoload_register</code>程序，但是只能对本<code>PHP</code>文件生效，一旦跨到了别的<code>PHP</code>文件就无法进行自动引入。参考之前写的<a href="https://github.com/woodyxiong/TinyPHP/blob/master/TinyPHP/Library/Tiny/Tiny.class.php" target="_blank" rel="noopener">TinyPHP</a>发现一般都是用的静态函数，而这样就可以保证其他地方可以调用成功，而最后的写法在<a href="https://github.com/woodyxiong/Swoole-Cert-Capture/blob/master/CertCaptureTest.php" target="_blank" rel="noopener">CertCaptureTest.php</a>中，这样就可以变成谁使用，就用谁的<code>spl_autoload_register</code>。</p>
<blockquote>
<p>实现解析<code>TCP</code>包的方式</p>
</blockquote>
<p>由<code>WireShark</code>分析可知，每个包的请求内容是树状结构，所以做了个类似树状结构的类来对节点进行解析，解析类在<a href="https://github.com/woodyxiong/Swoole-Cert-Capture/tree/master/HandshakeNode" target="_blank" rel="noopener">这里</a>，程序在获取包<code>TCP</code>包的时候会解码包的内容并指向到不同的节点进行解析，而最终的证书节点在<a href="https://github.com/woodyxiong/Swoole-Cert-Capture/blob/master/HandshakeNode/CertificatesNode.php" target="_blank" rel="noopener">此处</a>。</p>
<blockquote>
<p><code>Swoole</code>中的协程</p>
</blockquote>
<p>由于像监听的这种程序，容易发生超时的情况，所以需要另一个进程或者线程来进行处理定时，一旦发生超时，立马终止程序。而在<code>Swoole</code>中可以使用一种类似<code>Go</code>语言中的<strong>协程</strong>的东西，简单的来说，他可以一个用户线程中自动切换任务，比如说我开一个协程进行一个监听超时的死循环的任务，而另一个任务时作为客户端获取服务器的证书内容，当其中任意一个任务阻塞，程序可以全自动的切换到另一个任务。而作为我程序的一部分，一旦获取证书的客户端发生阻塞，一直在监听服务端发来的数据，此时协程会切换到一个超时检测的循环中，一旦发现超时了，则立刻终止程序。具体的超时检测和客户端放在<a href="https://github.com/woodyxiong/Swoole-Cert-Capture/blob/master/CertCapture.php" target="_blank" rel="noopener">Swoole-Cert-Capture/CertCapture.php:39</a>。</p>
<p>另外值得注意的是，<code>Swoole</code>的官方文档真的太晦涩了，并且界面和搜索功能不是特别友好，可能这就是不好推广的原因吧，虽然听说程序写的很牛逼，但是希望开源软件对开发者友好些，这样也易于传播。希望以后的我也能写出如此牛逼的程序。-_-||</p>
<h2 id="添加Composer"><a href="#添加Composer" class="headerlink" title="添加Composer"></a>添加<code>Composer</code></h2><p>这是我第一个真正的可以使用的<code>PHP</code>开源项目，当然希望能正规一点哈哈哈，为了这个竟然还上了<a href="https://github.com/woodyxiong/Swoole-Cert-Capture/blob/master/LICENSE" target="_blank" rel="noopener">MIT开源协议</a>这样做的目的是搞的好像真的有人来用样的哈哈哈。</p>
<p>打包成<code>Composer</code>前提是你装上<a href="https://getcomposer.org/" target="_blank" rel="noopener"><code>Composer</code>程序</a>，之后只需要在项目所在的路径输入以下命令，然后跟着指示填写即可生成<code>Composer</code>包。</p>
<pre><code>composer init
</code></pre><p>既然你想传到<a href="https://Packagist.org" target="_blank" rel="noopener">Packagist</a>上，你的项目总要是开源的放在<a href="https://github.com" target="_blank" rel="noopener">github</a>吧，随即可以在<a href="https://Packagist.org/packages/submit" target="_blank" rel="noopener">Packagist提交页面</a>填入项目地址，即可在[Packagist]生成对应的代码包。你们可以进入我的<a href="https://Packagist.org/packages/woodyxiong/swoole-cert-capture" target="_blank" rel="noopener">Packagist项目</a>，顺便点个关注打赏订阅哈哈哈。</p>
<p><img src="https://tencentcdn.gfkui.cn/19/7/3/packagist.jpg" alt="Packagist"></p>
<h2 id="添加简单的CI-CD构建"><a href="#添加简单的CI-CD构建" class="headerlink" title="添加简单的CI/CD构建"></a>添加简单的<code>CI/CD</code>构建</h2><p>这个步骤也是有些坎坷，我准备放到另一篇文章，欢迎关注。</p>

        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用 DISQUS_CLICK -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>

<!-- add animation -->
<style>
	.disqus_click_btn {
            line-height: 30px;
            margin: 0;
            min-width: 50px;
            padding: 0 14px;
            display: inline-block;
            font-family: "Roboto", "Helvetica", "Arial", sans-serif;
            font-size: 14px;
            font-weight: 400;
            text-transform: uppercase;
            letter-spacing: 0;
            overflow: hidden;
            will-change: box-shadow;
            transition: box-shadow .2s cubic-bezier(.4, 0, 1, 1), background-color .2s cubic-bezier(.4, 0, .2, 1), color .2s cubic-bezier(.4, 0, .2, 1);
            outline: 0;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
            vertical-align: middle;
            border: 0;
            background: rgba(158, 158, 158, .2);
            box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 3px 1px -2px rgba(0, 0, 0, .2), 0 1px 5px 0 rgba(0, 0, 0, .12);
            color: #fff;
            background-color: #757575;
            text-shadow: 0;
            display: none
        }
</style>
	
<div class="btn_click_load"> 
    <button class="disqus_click_btn">阅读评论（请确保 disqus 可以正常加载）</button>
</div>

<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'https://blog.gfkui.com/2019/06/14/实现抓取HTTPS握手时证书的客户端/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'https://blog.gfkui.com/2019/06/14/实现抓取HTTPS握手时证书的客户端/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>

<script type="text/ls-javascript" id="disqus-lazy-load-script">
    $.ajax({
        url: 'https://disqus.com/next/config.json',
        timeout: 4000,
        type: 'GET',
        success: (function() {
            var d = document;
            var s = d.createElement('script');
            s.src = '//kui-ye-de-hei-zuo-fang.disqus.com/embed.js';
            s.setAttribute('data-timestamp', + new Date());
            (d.head || d.body).appendChild(s);
            $('.disqus_click_btn').css('display','none');
        })(),
        error: function() {
          $('.disqus_click_btn').css('display','block');
        }
    });
    $('.btn_click_load').click(function() {  //click to load comments
        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document;
            var s = d.createElement('script');
            s.src = '//kui-ye-de-hei-zuo-fang.disqus.com/embed.js';
            s.setAttribute('data-timestamp', + new Date());
            (d.head || d.body).appendChild(s);
        })();
        $('.disqus_click_btn').css('display','none');
    });
</script>
  	

</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>

                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2019/09/26/内网穿透原理（转载）/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2019/05/19/Jetbrain软件的一些常用功能总结/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/logo.jpg" alt="WoodyXiong's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        woodyxiong@yahoo.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="maito:woodyxiong@yahoo.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2020/11/">十一月 2020<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/05/">五月 2020<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/04/">四月 2020<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/10/">十月 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/09/">九月 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/06/">六月 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/05/">五月 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/03/">三月 2019<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/02/">二月 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/01/">一月 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/12/">十二月 2018<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/11/">十一月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/10/">十月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/09/">九月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/08/">八月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/07/">七月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/06/">六月 2018<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/04/">四月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/03/">三月 2018<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/11/">十一月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/10/">十月 2017<span class="sidebar_archives-count">1</span></a>
            </li></ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/奇怪的知识/">奇怪的知识<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/categories/探索/">探索<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/categories/游戏体验/">游戏体验<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/研发日志/">研发日志<span class="sidebar_archives-count">20</span></a>
            </li></ul>
        </li>
        
    

    <!-- Pages  -->
    
        <li>
            <a href="/tags" title="标签云">
                
                    <i class="material-icons sidebar-material-icons">cloud_circle</i>
                
                标签云
            </a>
        </li>
        
            <li class="divider"></li>
        
    
        <li>
            <a href="/timeline" title="时间线">
                
                    <i class="material-icons sidebar-material-icons">send</i>
                
                时间线
            </a>
        </li>
        
    
        <li>
            <a href="/gallery" title="图库">
                
                    <i class="material-icons sidebar-material-icons">photo_library</i>
                
                图库
            </a>
        </li>
        
    
        <li>
            <a href="/links" title="友情链接">
                
                    <i class="material-icons sidebar-material-icons">people</i>
                
                友情链接
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
        <li>
            <a href="/archives">
                文章总数
                <span class="sidebar-badge">36</span>
            </a>
        </li>
        
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->

    <a href="https://github.com/viosey/hexo-theme-material" class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            主题 - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/zuosixiaoshenxi" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-twitter">
                <span class="visuallyhidden">Twitter</span>
            </button><!--
     --></a>
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    
        <a href="https://www.instagram.com/woodyxiong/" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-instagram">
                <span class="visuallyhidden">Instagram</span>
            </button><!--
     --></a>
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://www.github.com/woodyxiong" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-github">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    
        <a href="https://space.bilibili.com/32123244/#/" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-bilibili">
                <span class="visuallyhidden">Bilibili</span>
            </button><!--
     --></a>
    

    <!-- Telegram -->
    
        <a href="https://t.me/zuosixiaoshenxian" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-telegram">
                <span class="visuallyhidden">Telegram</span>
            </button><!--
     --></a>
    
    
    <!-- V2EX -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;2017&nbsp;-<script type="text/javascript">var fd = new Date();document.write("&nbsp;" + fd.getFullYear() + "&nbsp;");</script>魁爷的黑作坊
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?wgjW/HuQG9JDgvPDPoRAng==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?V/53wGualMuiPM3xoetD5Q==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>







    <!-- Busuanzi -->
    <script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



   <!-- 使用 DISQUS js 代码 -->






<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->


    
        <script>lsloader.load("hanabi","/js/hanabi-browser-bundle.js?5+2z7ZZmFuZK5IcimlZbxw==", true)</script>
    


<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
    
        
        
        HanabiBrowser.start('pre code',true);
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.2 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
